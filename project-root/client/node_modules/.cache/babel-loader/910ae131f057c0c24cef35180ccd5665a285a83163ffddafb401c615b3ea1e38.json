{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import'./GroupDetail.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GroupDetail(){const{groupId}=useParams();// URL에서 groupId 가져오기\nconst[group,setGroup]=useState(null);// 그룹 상세 정보 상태\nconst[password,setPassword]=useState('');// 비밀번호 입력 상태\nconst[showPasswordModal,setShowPasswordModal]=useState(false);// 비밀번호 모달 표시 여부\nconst navigate=useNavigate();// 페이지 이동을 위한 훅\n// 그룹 정보 가져오기\nconst fetchGroupDetails=async()=>{try{const response=await fetch(`/api/group/${groupId}`);// 그룹 정보 가져오는 API\nconst data=await response.json();setGroup(data);// 받아온 그룹 정보 설정\n}catch(error){console.error('그룹 정보 가져오기 오류:',error);}};useEffect(()=>{fetchGroupDetails();},[groupId]);// 그룹 수정 페이지로 이동\nconst handleEditGroup=()=>{navigate(`/group/edit/${groupId}`);};// 비밀번호 입력 모달 열기\nconst handleDeleteGroup=()=>{setShowPasswordModal(true);};// 비밀번호 검증 후 삭제 또는 오류 페이지로 이동\nconst handleConfirmDelete=async()=>{try{const response=await fetch(`/api/group/${groupId}/validate-password`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password})});if(response.ok){const result=await response.json();if(result.isValid){navigate(`/group/delete/${groupId}`);// 비밀번호가 맞으면 삭제 페이지로 이동\n}else{navigate('/wrong-password');// 비밀번호가 틀리면 오류 페이지로 이동\n}}}catch(error){console.error('비밀번호 검증 오류:',error);}};if(!group)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// 로딩 상태 표시\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"group-detail-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:group.imageUrl,alt:\"\\uADF8\\uB8F9 \\uB300\\uD45C \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"h1\",{children:group.name}),/*#__PURE__*/_jsx(\"p\",{children:group.introduction}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEditGroup,children:\"\\uADF8\\uB8F9 \\uC815\\uBCF4 \\uC218\\uC815\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteGroup,children:\"\\uADF8\\uB8F9 \\uC0AD\\uC81C\\uD558\\uAE30\"})]}),showPasswordModal&&/*#__PURE__*/_jsxs(\"div\",{className:\"password-modal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uADF8\\uB8F9 \\uC0AD\\uC81C\"}),/*#__PURE__*/_jsx(\"label\",{children:\"\\uC0AD\\uC81C \\uAD00\\uB828 \\uC778\\uC99D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleConfirmDelete,children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"})]})]});}export default GroupDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","GroupDetail","groupId","group","setGroup","password","setPassword","showPasswordModal","setShowPasswordModal","navigate","fetchGroupDetails","response","fetch","data","json","error","console","handleEditGroup","handleDeleteGroup","handleConfirmDelete","method","headers","body","JSON","stringify","ok","result","isValid","children","className","src","imageUrl","alt","name","introduction","onClick","type","placeholder","value","onChange","e","target"],"sources":["C:/Users/user/Desktop/2024-2/boost/memoryMain/memory/project-root/client/src/group/components/GroupDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './GroupDetail.css';\r\n\r\nfunction GroupDetail() {\r\n  const { groupId } = useParams(); // URL에서 groupId 가져오기\r\n  const [group, setGroup] = useState(null); // 그룹 상세 정보 상태\r\n  const [password, setPassword] = useState(''); // 비밀번호 입력 상태\r\n  const [showPasswordModal, setShowPasswordModal] = useState(false); // 비밀번호 모달 표시 여부\r\n  const navigate = useNavigate(); // 페이지 이동을 위한 훅\r\n\r\n  // 그룹 정보 가져오기\r\n  const fetchGroupDetails = async () => {\r\n    try {\r\n      const response = await fetch(`/api/group/${groupId}`); // 그룹 정보 가져오는 API\r\n      const data = await response.json();\r\n      setGroup(data); // 받아온 그룹 정보 설정\r\n    } catch (error) {\r\n      console.error('그룹 정보 가져오기 오류:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchGroupDetails();\r\n  }, [groupId]);\r\n\r\n  // 그룹 수정 페이지로 이동\r\n  const handleEditGroup = () => {\r\n    navigate(`/group/edit/${groupId}`);\r\n  };\r\n\r\n  // 비밀번호 입력 모달 열기\r\n  const handleDeleteGroup = () => {\r\n    setShowPasswordModal(true);\r\n  };\r\n\r\n  // 비밀번호 검증 후 삭제 또는 오류 페이지로 이동\r\n  const handleConfirmDelete = async () => {\r\n    try {\r\n      const response = await fetch(`/api/group/${groupId}/validate-password`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ password }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        if (result.isValid) {\r\n          navigate(`/group/delete/${groupId}`); // 비밀번호가 맞으면 삭제 페이지로 이동\r\n        } else {\r\n          navigate('/wrong-password'); // 비밀번호가 틀리면 오류 페이지로 이동\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('비밀번호 검증 오류:', error);\r\n    }\r\n  };\r\n\r\n  if (!group) return <div>Loading...</div>; // 로딩 상태 표시\r\n\r\n  return (\r\n    <div className=\"group-detail-container\">\r\n      {/* 그룹 정보 표시 */}\r\n      <div className=\"group-info\">\r\n        <img src={group.imageUrl} alt=\"그룹 대표 이미지\" />\r\n        <h1>{group.name}</h1>\r\n        <p>{group.introduction}</p>\r\n        {/* 수정 및 삭제 버튼 */}\r\n        <button onClick={handleEditGroup}>그룹 정보 수정하기</button>\r\n        <button onClick={handleDeleteGroup}>그룹 삭제하기</button>\r\n      </div>\r\n\r\n      {/* 비밀번호 입력 모달 */}\r\n      {showPasswordModal && (\r\n        <div className=\"password-modal\">\r\n          <h2>그룹 삭제</h2>\r\n          <label>삭제 관련 인증</label>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"비밀번호를 입력해 주세요\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <button onClick={handleConfirmDelete}>삭제하기</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}